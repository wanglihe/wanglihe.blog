lfs阅读手记
###########
:date: 2015-04-14 10:12
:author: wanglihe
:category: Uncategorized
:tags: lfs, linux
:slug: lfs阅读手记
:status: published

一直知道lfs，很多人称之为真正的linux，如果你想真正的理解linux，一定要做一次lfs。于是我被这个殿堂级的难度吓尿了，一直修练，认为等我对自己认可时再来搞这个。后来忘了，哪怕是我几乎对自己的知识体系认可了。偶然想了起来，正好周末有空，于是打算搞一下，看看还有什么提高。当年还是6.几的lfs现在已经7.7了，不觉时光荏苒。

 那么lfs都讲了啥呢？
  第一章
  讲lfs是啥，毫无技术，可以认为是废话。
  第二章
  准备lfs所用磁盘空间，环境变量，基本废话
  第三章
 
去下源码包，补丁包，没啥重点，而且我真的很希望能有一个总体包下载，但是文档上只有每个包的地址。记得用md5验证一下。
  第四章
  增加了tools目录，增加用户。啥有用的没说。
  第五章
 
重头戏来了，构建基本的构建系统，需要各种改安装路径，修改编译参数至需要的最小值，整理头文件什么的。会编译的话，其实也没什么有用的东西，重点是溜一遍所有的包，看看每个包是干什么的。对于我而言，废话。对于不会的人而言，说得不够具体。建议看不懂的人直接学automake。
  第六章
 
还是要编译，但是最好不要优化，不要并行编译。准备一个小的linux的文件树，包括dev,proc,sys,run。使用chroot将整个系统的运行时框架换到新构建的系统上，之后继续搭系统。这个系统按原文呢人家说是直接装盘就可以拿到别的机器上用的，也就是说运行架构已经完整了，于是加各种工具。看得吐血啊，这种基础系统的构建什么要用动态链接库啊？我更恨c语言了，那个头文件和库为什么就不能合体呢？整体来讲就是接着编。
  第七章
  创建各种启动用的脚本，基本上就是bash,inputrc,login这些。没啥特别的。
  第八章
  8.3.3终于编译内核了，然后就设置了一下grub，好像就能启动了
  第九章
  重启

总体而言，lfs对的我的意义就是知道了一个可以自举的linux所需的最小包的数量，其他的其实都没啥新东西。总共看了也就是两三天，一共也就不到10个小时。当然，因为我没有实际操作编译安装的原因。我只下了包，本打算看完实际干遍，结果看完了全无兴趣。早知道这么简单早就看了。唉。记在这里，如果有某个人像我一样完美主义，完全不用像我搞那么久，学过automake之后，是一个很好的时机。正好可以用lfs学一下linux基础。如果不幸学多了，直接用archlinux或是gentoo，最终犯懒后估计会像我一样回到debian。
